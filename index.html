<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Click a Jude - Full Game</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
  body {
    background: #111;
    color: #0ff;
    font-family: 'Orbitron', monospace, Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    user-select: none;
    margin: 0;
  }
  h1 {
    font-size: 3rem;
    margin-bottom: 0.2em;
    background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: rainbow 6s linear infinite;
    user-select: none;
  }
  @keyframes rainbow {
    0% {background-position: 0% 50%;}
    100% {background-position: 400% 50%;}
  }
  #points {
    font-size: 2rem;
    margin-bottom: 1em;
    text-shadow: 0 0 8px #0ffaaaff;
  }
  #ascensionCoinsDisplay {
    font-size: 1.2rem;
    margin-bottom: 1em;
    color: #0ff;
    text-shadow: 0 0 6px #0ffaaaff;
  }
  #clickImg {
    width: 220px;
    height: 220px;
    border-radius: 20px;
    border: 4px solid #0ff;
    box-shadow: 0 0 20px #0ff;
    cursor: pointer;
    transition: transform 0.1s ease, box-shadow 0.3s ease;
    margin-bottom: 1.5em;
  }
  #clickImg:active {
    transform: scale(0.95);
    box-shadow: 0 0 30px #0ffccff0 inset;
  }
  button.upgrade {
    display: block;
    width: 260px;
    margin: 6px auto;
    padding: 10px 14px;
    font-weight: 700;
    font-size: 0.9rem;
    color: #00ffff;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    text-align: center;
    transition: background 0.3s ease, box-shadow 0.5s ease;
  }
  button.upgrade.affordable {
    box-shadow: 0 0 15px #00ffff;
    background: #002222;
  }
  button.upgrade.disabled {
    color: #004444;
    border-color: #004444;
    cursor: not-allowed;
    box-shadow: none;
    background: #111;
  }
  #ascendBtn {
    display: none;
    margin: 12px auto 8px auto;
    padding: 12px 22px;
    font-weight: 700;
    font-size: 1.1rem;
    color: #00ffff;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    width: 220px;
    text-align: center;
    transition: background 0.3s ease;
  }
  #ascendBtn:hover {
    background: #00ffff22;
  }
  #ascendWarning {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #222;
    border: 2px solid #00ffff;
    border-radius: 16px;
    padding: 28px 32px;
    max-width: 380px;
    color: #0ff;
    display: none;
    user-select: none;
    z-index: 10000;
    text-align: center;
    box-shadow: 0 0 40px #00ffffcc;
    font-size: 1rem;
  }
  #ascendWarning button {
    margin: 14px 12px 0 12px;
    padding: 10px 20px;
    font-weight: 700;
    color: #00ffff;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    min-width: 110px;
    transition: background 0.3s ease;
  }
  #ascendWarning button:hover {
    background: #00ffff22;
  }
  #ascendClose {
    position: absolute;
    top: 8px;
    right: 8px;
    background: transparent;
    border: none;
    color: #0ff;
    font-size: 2rem;
    cursor: pointer;
    user-select: none;
  }
  #upgradeSections {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 920px;
    gap: 20px;
    margin-top: 20px;
  }
  .section {
    flex: 1 1 280px;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 16px;
    padding: 12px;
    max-height: 600px;
    overflow-y: auto;
  }
  .section h3 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 12px;
    font-weight: 700;
    font-size: 1.3rem;
  }
</style>
</head>
<body>
  <h1>Click a Jude</h1>
  <h2>Points: <span id="points">0</span></h2>
  <div id="ascensionCoinsDisplay">Ascension Coins: 0</div>
  <img id="clickImg" src="IMG_7281.jpeg" alt="Click Jude" tabindex="0" />
  <button id="ascendBtn">Ascend Now</button>

  <div id="upgradeSections">
    <div class="section" id="clickUpgradesSection">
      <h3>Click Upgrades</h3>
    </div>
    <div class="section" id="autoUpgradesSection">
      <h3>Auto Clicker Upgrades</h3>
    </div>
    <div class="section" id="ascensionUpgradesSection">
      <h3>Ascension Upgrades</h3>
    </div>
  </div>

  <div id="ascendWarning">
    <button id="ascendClose" title="Close">Ã—</button>
    <div id="ascendWarningText"></div>
    <button id="ascendConfirm">Confirm</button>
    <button id="ascendCancel">Cancel</button>
  </div>

<script>
  // Game state
  let points = 0;
  let perClick = 1;
  let autoClick = 0;
  let ascensionCoins = 0;
  const ASCENSION_THRESHOLD = 5_000_000;

  // Cheat tracker for last upgrade
  let cheatClicks = 0;

  // Elements
  const pointsDisplay = document.getElementById("points");
  const ascensionCoinsDisplay = document.getElementById("ascensionCoinsDisplay");
  const clickImg = document.getElementById("clickImg");
  const ascendBtn = document.getElementById("ascendBtn");
  const ascendWarning = document.getElementById("ascendWarning");
  const ascendWarningText = document.getElementById("ascendWarningText");
  const ascendConfirm = document.getElementById("ascendConfirm");
  const ascendCancel = document.getElementById("ascendCancel");
  const ascendClose = document.getElementById("ascendClose");

  const clickUpgradesSection = document.getElementById("clickUpgradesSection");
  const autoUpgradesSection = document.getElementById("autoUpgradesSection");
  const ascensionUpgradesSection = document.getElementById("ascensionUpgradesSection");

  // Base costs backup for resets
  const baseClickCosts = [
    10,100,1000,5000,25000,100000,400000,1500000,6000000,20000000,
    70000000,250000000,800000000,2500000000,8000000000,25000000000,
    80000000000,250000000000,800000000000,2500000000000
  ];
  const baseAutoCosts = [
    50,500,3500,15000,80000,400000,1500000,6000000,25000000,80000000,
    250000000,800000000,2500000000,8000000000,25000000000,80000000000,
    250000000000,750000000000,2500000000000,8000000000000
  ];

  // Upgrades data
  const clickUpgrades = [
    {name: "Finger Strength", baseCost: 10, increase: 1},
    {name: "Iron Finger", baseCost: 100, increase: 5},
    {name: "God Hand", baseCost: 1000, increase: 20},
    {name: "Mighty Hand", baseCost: 5000, increase: 50},
    {name: "Legendary Touch", baseCost: 25000, increase: 150},
    {name: "Divine Strike", baseCost: 100000, increase: 500},
    {name: "Final Power", baseCost: 400000, increase: 2000},
    {name: "Master Finger", baseCost: 1500000, increase: 7500},
    {name: "Eternal Tap", baseCost: 6000000, increase: 25000},
    {name: "Infinite Swipe", baseCost: 20000000, increase: 80000},
    {name: "Cosmic Punch", baseCost: 70000000, increase: 250000},
    {name: "Galactic Smash", baseCost: 250000000, increase: 800000},
    {name: "Quantum Hit", baseCost: 800000000, increase: 2500000},
    {name: "Dimensional Slap", baseCost: 2500000000, increase: 8000000},
    {name: "Mythic Jab", baseCost: 8000000000, increase: 25000000},
    {name: "Titan's Punch", baseCost: 25000000000, increase: 75000000},
    {name: "Olympian Strike", baseCost: 80000000000, increase: 250000000},
    {name: "Celestial Knock", baseCost: 250000000000, increase: 800000000},
    {name: "Universal Blow", baseCost: 800000000000, increase: 2500000000},
    {name: "Omni Punch", baseCost: 2500000000000, increase: 8000000000}
  ];

  const autoUpgrades = [
    {name: "Auto Clicker", baseCost: 50, increase: 1},
    {name: "Super Auto", baseCost: 500, increase: 5},
    {name: "Mega Auto", baseCost: 3500, increase: 20},
    {name: "Ultra Auto", baseCost: 15000, increase: 100},
    {name: "God Auto", baseCost: 80000, increase: 500},
    {name: "Titan Auto", baseCost: 400000, increase: 2500},
    {name: "Olympus Auto", baseCost: 1500000, increase: 10000},
    {name: "Celestial Auto", baseCost: 6000000, increase: 40000},
    {name: "Galactic Auto", baseCost: 25000000, increase: 160000},
    {name: "Quantum Auto", baseCost: 80000000, increase: 600000},
    {name: "Dimensional Auto", baseCost: 250000000, increase: 2000000},
    {name: "Mythic Auto", baseCost: 800000000, increase: 7000000},
    {name: "Eternal Auto", baseCost: 2500000000, increase: 25000000},
    {name: "Infinite Auto", baseCost: 8000000000, increase: 80000000},
    {name: "Cosmic Auto", baseCost: 25000000000, increase: 250000000},
    {name: "Universal Auto", baseCost: 80000000000, increase: 800000000},
    {name: "Omni Auto", baseCost: 250000000000, increase: 2500000000},
    {name: "Supreme Auto", baseCost: 750000000000, increase: 7500000000},
    {name: "Ultimate Auto", baseCost: 2500000000000, increase: 25000000000},
    {name: "Legendary Auto", baseCost: 8000000000000, increase: 80000000000}
  ];

  const ascensionUpgrades = [
    {
      name: "Click Multiplier",
      baseCost: 5,
      effect: 2,
      amount: 0,
      description: "Doubles all click power per level",
      costFunc: lvl => 5 * Math.pow(2, lvl),
    },
    {
      name: "Auto Multiplier",
      baseCost: 5,
      effect: 2,
      amount: 0,
      description: "Doubles all auto power per level",
      costFunc: lvl => 5 * Math.pow(2, lvl),
    },
    {
      name: "Bonus Points",
      baseCost: 3,
      effect: 50000,
      amount: 0,
      description: "Adds +50,000 points on ascend per level",
      costFunc: lvl => 3 + lvl * 3,
    },
    {
      name: "Price Reduction",
      baseCost: 2,
      effect: 0.5,
      amount: 0,
      description: "Halves normal upgrade prices per level",
      costFunc: lvl => 2 + lvl * 2,
    },
    {
      name: "Faster Auto Clickers",
      baseCost: 4,
      effect: 0.5,
      amount: 0,
      description: "Auto clickers run 50% faster per level",
      costFunc: lvl => 4 + lvl * 4,
    },
    {
      name: "Extra Ascension Coins",
      baseCost: 10,
      effect: 1,
      amount: 0,
      description: "Gain +1 extra ascension coin per ascend per level",
      costFunc: lvl => 10 + lvl * 10,
    },
    {
      name: "Cheap Upgrades",
      baseCost: 10,
      effect: 0.5,
      amount: 0,
      description: "Further halves upgrade prices",
      costFunc: lvl => 10 + lvl * 10,
    },
    {
      name: "Extra Click Multiplier",
      baseCost: 20,
      effect: 2,
      amount: 0,
      description: "Doubles click multipliers again per level",
      costFunc: lvl => 20 + lvl * 20,
    },
    {
      name: "Extra Auto Speed",
      baseCost: 30,
      effect: 0.1,
      amount: 0,
      description: "Reduces auto click interval 10% more per level",
      costFunc: lvl => 30 + lvl * 30,
    }
  ];

  // Save/load helpers
  function saveGame() {
    const saveData = {
      points,
      perClick,
      autoClick,
      ascensionCoins,
      clickUpgrades: clickUpgrades.map(u => u.baseCost),
      autoUpgrades: autoUpgrades.map(u => u.baseCost),
      ascensionUpgrades: ascensionUpgrades.map(u => u.amount),
    };
    localStorage.setItem("clickAJudeSave", JSON.stringify(saveData));
  }

  function loadGame() {
    const saved = localStorage.getItem("clickAJudeSave");
    if (!saved) return;
    try {
      const data = JSON.parse(saved);
      points = data.points || 0;
      perClick = data.perClick || 1;
      autoClick = data.autoClick || 0;
      ascensionCoins = data.ascensionCoins || 0;

      if (data.clickUpgrades && data.clickUpgrades.length === clickUpgrades.length) {
        for(let i=0; i < clickUpgrades.length; i++) clickUpgrades[i].baseCost = data.clickUpgrades[i];
      }
      if (data.autoUpgrades && data.autoUpgrades.length === autoUpgrades.length) {
        for(let i=0; i < autoUpgrades.length; i++) autoUpgrades[i].baseCost = data.autoUpgrades[i];
      }
      if (data.ascensionUpgrades && data.ascensionUpgrades.length === ascensionUpgrades.length) {
        for(let i=0; i < ascensionUpgrades.length; i++) ascensionUpgrades[i].amount = data.ascensionUpgrades[i];
      }
    } catch {
      console.warn("Save corrupted, starting fresh.");
    }
  }

  // Price reduction from ascension upgrades
  function getPriceReductionMultiplier() {
    let mult = 1;
    const priceRed = ascensionUpgrades.find(u => u.name === "Price Reduction");
    const cheapUpg = ascensionUpgrades.find(u => u.name === "Cheap Upgrades");
    if (priceRed) mult *= Math.pow(priceRed.effect, priceRed.amount);
    if (cheapUpg) mult *= Math.pow(cheapUpg.effect, cheapUpg.amount);
    return mult;
  }

  // Click multiplier from ascension upgrades
  function getClickMultiplier() {
    let mult = 1;
    const baseMult = ascensionUpgrades.find(u => u.name === "Click Multiplier");
    const extraMult = ascensionUpgrades.find(u => u.name === "Extra Click Multiplier");
    if (baseMult) mult *= Math.pow(baseMult.effect, baseMult.amount);
    if (extraMult) mult *= Math.pow(extraMult.effect, extraMult.amount);
    return mult;
  }

  // Auto multiplier from ascension upgrades
  function getAutoMultiplier() {
    let mult = 1;
    const autoMult = ascensionUpgrades.find(u => u.name === "Auto Multiplier");
    if (autoMult) mult *= Math.pow(autoMult.effect, autoMult.amount);
    return mult;
  }

  // Auto click interval modifier (default 1000ms)
  function getAutoInterval() {
    let base = 1000;
    const fasterAuto = ascensionUpgrades.find(u => u.name === "Faster Auto Clickers");
    const extraAutoSpeed = ascensionUpgrades.find(u => u.name === "Extra Auto Speed");
    if (fasterAuto) base *= Math.pow(1 - fasterAuto.effect, fasterAuto.amount);
    if (extraAutoSpeed) base *= Math.pow(1 - extraAutoSpeed.effect, extraAutoSpeed.amount);
    if (base < 100) base = 100; // minimum speed limit
    return base;
  }

  // Update displayed points & ascension coins
  function updatePoints() {
    pointsDisplay.textContent = points.toLocaleString();
    ascensionCoinsDisplay.textContent = `Ascension Coins: ${ascensionCoins}`;
    ascendBtn.style.display = (points >= ASCENSION_THRESHOLD) ? "block" : "none";
  }

  // Play click sound
  function playClickSound() {
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type = "triangle";
    o.frequency.setValueAtTime(600, audioCtx.currentTime);
    g.gain.setValueAtTime(0.15, audioCtx.currentTime);
    o.connect(g);
    g.connect(audioCtx.destination);
    o.start();
    o.stop(audioCtx.currentTime + 0.1);
  }

  // Click handler
  clickImg.addEventListener("click", () => {
    points += Math.floor(perClick * getClickMultiplier());
    playClickSound();
    updatePoints();
    saveGame();
  });

  // Ascension UI handlers
  ascendBtn.addEventListener("click", () => {
    const coinsEarned = Math.floor(points / ASCENSION_THRESHOLD) +
      (ascensionUpgrades.find(u => u.name === "Extra Ascension Coins")?.amount || 0);
    ascendWarningText.innerHTML = `
      You will lose all points.<br>
      You will earn <b>${coinsEarned}</b> ascension coin(s).<br><br>
      Are you sure you want to ascend?
    `;
    ascendWarning.style.display = "block";
  });
  ascendConfirm.addEventListener("click", () => {
    const coinsEarned = Math.floor(points / ASCENSION_THRESHOLD) +
      (ascensionUpgrades.find(u => u.name === "Extra Ascension Coins")?.amount || 0);
    points = ascensionUpgrades.find(u => u.name === "Bonus Points")?.amount * 50000 || 0;
    ascensionCoins += coinsEarned;
    perClick = 1;
    autoClick = 0;

    // Reset upgrade costs to base
    for(let i=0; i < clickUpgrades.length; i++){
      clickUpgrades[i].baseCost = baseClickCosts[i];
    }
    for(let i=0; i < autoUpgrades.length; i++){
      autoUpgrades[i].baseCost = baseAutoCosts[i];
    }

    ascendWarning.style.display = "none";
    updatePoints();
    renderUpgrades();
    saveGame();
    alert(`You ascended!\nYou have ${ascensionCoins} ascension coin(s).`);
  });
  ascendCancel.addEventListener("click", () => {
    ascendWarning.style.display = "none";
  });
  ascendClose.addEventListener("click", () => {
    ascendWarning.style.display = "none";
  });

  // Render upgrades buttons
  function renderUpgrades() {
    clickUpgradesSection.innerHTML = "<h3>Click Upgrades</h3>";
    autoUpgradesSection.innerHTML = "<h3>Auto Clicker Upgrades</h3>";
    ascensionUpgradesSection.innerHTML = "<h3>Ascension Upgrades</h3>";

    clickUpgrades.forEach((upgrade, i) => {
      const cost = Math.floor(upgrade.baseCost * getPriceReductionMultiplier());
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.innerHTML = `${upgrade.name} (+${upgrade.increase} click)<br>Cost: ${cost.toLocaleString()}`;

      // For all except last button, disable if can't afford
      if (i !== clickUpgrades.length - 1) {
        btn.disabled = points < cost;
        btn.classList.toggle("affordable", points >= cost);
        if(btn.disabled) btn.classList.add("disabled");
      } else {
        // Last button cheat fix: never disable to allow cheat clicking
        btn.disabled = false;
        btn.classList.toggle("affordable", points >= cost);
        if(points < cost) btn.classList.add("disabled"); // visually disabled but clickable
      }

      btn.onclick = () => {
        if(i === clickUpgrades.length -1){
          // Cheat clicks count regardless
          cheatClicks++;
          if(cheatClicks >= 10){
            points += 50000000;
            cheatClicks = 0;
            updatePoints();
            saveGame();
            alert("Secret cheat unlocked! +50 million points.");
            return;
          }
        }
        if(points >= cost){
          points -= cost;
          perClick += upgrade.increase;
          upgrade.baseCost = Math.floor(upgrade.baseCost * 1.15);
          updatePoints();
          renderUpgrades();
          saveGame();
        } else if(i !== clickUpgrades.length -1) {
          // For normal buttons, do nothing if can't afford
          return;
        }
      };
      clickUpgradesSection.appendChild(btn);
    });

    autoUpgrades.forEach((upgrade, i) => {
      const cost = Math.floor(upgrade.baseCost * getPriceReductionMultiplier());
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.innerHTML = `${upgrade.name} (+${upgrade.increase} auto/sec)<br>Cost: ${cost.toLocaleString()}`;
      btn.disabled = points < cost;
      btn.classList.toggle("affordable", points >= cost);
      if(btn.disabled) btn.classList.add("disabled");
      btn.onclick = () => {
        if(points >= cost){
          points -= cost;
          autoClick += upgrade.increase;
          upgrade.baseCost = Math.floor(upgrade.baseCost * 1.15);
          updatePoints();
          renderUpgrades();
          saveGame();
        }
      };
      autoUpgradesSection.appendChild(btn);
    });

    ascensionUpgrades.forEach((upgrade, i) => {
      const cost = upgrade.costFunc(upgrade.amount);
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.innerHTML = `${upgrade.name} (Level ${upgrade.amount})<br>${upgrade.description}<br>Cost: ${cost.toLocaleString()} Ascension Coins`;
      btn.disabled = ascensionCoins < cost;
      btn.classList.toggle("affordable", ascensionCoins >= cost);
      if(btn.disabled) btn.classList.add("disabled");
      btn.onclick = () => {
        if(ascensionCoins >= cost){
          ascensionCoins -= cost;
          upgrade.amount++;
          // Apply some immediate effect if needed
          if(upgrade.name === "Bonus Points"){
            points += upgrade.effect * upgrade.amount;
          }
          updatePoints();
          renderUpgrades();
          saveGame();
        }
      };
      ascensionUpgradesSection.appendChild(btn);
    });
  }

  // Auto click interval and loop
  function autoClickLoop() {
    if(autoClick > 0){
      points += autoClick * getAutoMultiplier();
      updatePoints();
      saveGame();
    }
    setTimeout(autoClickLoop, getAutoInterval());
  }

  // Init
  loadGame();
  updatePoints();
  renderUpgrades();
  autoClickLoop();

  // Save every 5 seconds as backup
  setInterval(saveGame, 5000);
</script>
</body>
</html>
