<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Click a Jude - Mega Upgrades + Ascension</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
  body {
    background: #111;
    color: #0ff;
    font-family: 'Orbitron', monospace, Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    user-select: none;
    margin: 0;
  }
  h1 {
    font-size: 3rem;
    margin-bottom: 0.2em;
    background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: rainbow 6s linear infinite;
    user-select: none;
  }
  @keyframes rainbow {
    0% {background-position: 0% 50%;}
    100% {background-position: 400% 50%;}
  }
  #points {
    font-size: 2rem;
    margin-bottom: 1em;
    text-shadow: 0 0 8px #0ffaaaff;
  }
  #clickImg {
    width: 220px;
    height: 220px;
    border-radius: 20px;
    border: 4px solid #0ff;
    box-shadow: 0 0 20px #0ff;
    cursor: pointer;
    transition: transform 0.1s ease, box-shadow 0.3s ease;
    margin-bottom: 1.5em;
  }
  #clickImg:active {
    transform: scale(0.95);
    box-shadow: 0 0 30px #0ffccff0 inset;
  }
  .upgrade {
    background: #222;
    border: 2px solid #0ff;
    border-radius: 10px;
    padding: 8px 14px;
    margin: 6px 6px;
    min-width: 300px;
    cursor: pointer;
    user-select: none;
    font-weight: 600;
    color: #0ff;
    transition: box-shadow 0.3s ease, background-color 0.3s ease;
  }
  .upgrade.affordable:hover {
    background-color: #0ff2;
    box-shadow: 0 0 15px #0ff;
  }
  .upgrade.disabled {
    color: #055;
    border-color: #055;
    cursor: default;
    background: #111;
  }
  #ascension-section {
    position: fixed;
    top: 15px;
    right: 15px;
    background: #111;
    border: 2px solid #0ff;
    border-radius: 12px;
    padding: 12px 18px;
    max-width: 350px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 0 25px #0ffccaa0;
    font-size: 0.9rem;
    user-select: none;
    z-index: 9999;
  }
  #ascension-section h3, #ascension-section h4 {
    text-align: center;
    margin-bottom: 6px;
    letter-spacing: 1.1px;
    color: #0ff;
  }
  #ascension-coins {
    font-weight: 700;
    color: #0ff;
    margin-bottom: 12px;
    text-align: center;
    font-size: 1.3rem;
    text-shadow: 0 0 8px #0ffbbbee;
  }
  #ascendBtn {
    display: none;
    margin: 8px auto 4px auto;
    padding: 10px 20px;
    font-weight: 700;
    color: #00ffff;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
    width: 100%;
    text-align: center;
  }
  #ascendBtn:hover {
    background: #00ffff22;
  }
  #ascendWarning {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #222;
    border: 2px solid #00ffff;
    border-radius: 16px;
    padding: 24px 28px;
    max-width: 360px;
    color: #0ff;
    display: none;
    user-select: none;
    z-index: 10000;
    text-align: center;
    box-shadow: 0 0 35px #00ffffcc;
    font-size: 1rem;
  }
  #ascendWarning button {
    margin: 14px 12px 0 12px;
    padding: 10px 18px;
    font-weight: 700;
    color: #00ffff;
    background: #111;
    border: 2px solid #00ffff;
    border-radius: 10px;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
    min-width: 100px;
  }
  #ascendWarning button:hover {
    background: #00ffff22;
  }
  #ascendClose {
    position: absolute;
    top: 8px;
    right: 8px;
    background: transparent;
    border: none;
    color: #0ff;
    font-size: 1.8rem;
    cursor: pointer;
    user-select: none;
  }
  #clickSection, #autoSection {
    max-height: 260px;
    overflow-y: auto;
    width: 340px;
    margin-bottom: 1.5em;
    border: 1px solid #0ff5;
    border-radius: 8px;
    padding: 6px 10px;
    background: #111a;
  }
</style>
</head>
<body>
  <h1>Click a Jude</h1>
  <h2>Points: <span id="points">0</span></h2>
  <img id="clickImg" src="IMG_7281.jpeg" alt="Click Jude" tabindex="0" />
  
  <h3>Click Upgrades</h3>
  <div id="clickSection"></div>

  <h3>Auto Upgrades</h3>
  <div id="autoSection"></div>

  <div id="ascension-section">
    <h3>Ascension</h3>
    <div>Ascension Coins: <span id="ascension-coins">0</span></div>
    <h4>Ascension Upgrades</h4>
    <div id="ascensionUpgrades"></div>
    <button id="ascendBtn">Ascend Now</button>
  </div>

  <div id="ascendWarning">
    <button id="ascendClose" title="Close">Ã—</button>
    <div id="ascendWarningText"></div>
    <button id="ascendConfirm">Confirm</button>
    <button id="ascendCancel">Cancel</button>
  </div>

<script>
  // Game state
  let points = 0;
  let perClick = 1;
  let autoClick = 0;
  let ascensionCoins = 0;
  const ASCENSION_THRESHOLD = 5_000_000;

  const pointsDisplay = document.getElementById("points");
  const clickImg = document.getElementById("clickImg");
  const ascensionCoinsDisplay = document.getElementById("ascension-coins");
  const ascendBtn = document.getElementById("ascendBtn");
  const ascendWarning = document.getElementById("ascendWarning");
  const ascendWarningText = document.getElementById("ascendWarningText");
  const ascendConfirm = document.getElementById("ascendConfirm");
  const ascendCancel = document.getElementById("ascendCancel");
  const ascendClose = document.getElementById("ascendClose");
  const clickSection = document.getElementById("clickSection");
  const autoSection = document.getElementById("autoSection");
  const ascensionUpgradesDiv = document.getElementById("ascensionUpgrades");

  // Cheat click counter (hidden cheat)
  let cheatClicks = 0;

  // Generate 20 click upgrades escalating
  let clickUpgrades = [];
  let baseClickPowers = [1,5,20,50,150,500,2000,7500,25000,80000,250000,800000,2_500_000,8_000_000,25_000_000,75_000_000,250_000_000,800_000_000,2_500_000_000,8_000_000_000];
  let baseClickCosts = [10,100,1000,5000,25000,100000,400000,1_500_000,6_000_000,20_000_000,70_000_000,250_000_000,800_000_000,2_500_000_000,8_000_000_000,25_000_000_000,80_000_000_000,250_000_000_000,800_000_000_000,2_500_000_000_000];
  let clickNames = [
    "Finger Strength", "Iron Finger", "God Hand", "Mighty Hand", "Legendary Touch",
    "Divine Strike", "Final Power", "Master Finger", "Eternal Tap", "Infinite Swipe",
    "Cosmic Punch", "Galactic Smash", "Quantum Hit", "Dimensional Slap", "Mythic Jab",
    "Titan's Punch", "Olympian Strike", "Celestial Knock", "Universal Blow", "Omni Punch"
  ];

  for(let i=0; i<20; i++){
    clickUpgrades.push({
      name: clickNames[i],
      baseCost: baseClickCosts[i],
      increase: baseClickPowers[i]
    });
  }

  // Generate 20 auto upgrades escalating
  let autoUpgrades = [];
  let baseAutoPowers = [1,5,20,100,500,2500,10000,40000,160000,600000,2_000_000,7_000_000,25_000_000,80_000_000,250_000_000,800_000_000,2_500_000_000,7_500_000_000,25_000_000_000,80_000_000_000];
  let baseAutoCosts = [50,500,3500,15000,80000,400000,1_500_000,6_000_000,25_000_000,80_000_000,250_000_000,800_000_000,2_500_000_000,8_000_000_000,25_000_000_000,80_000_000_000,250_000_000_000,750_000_000_000,2_500_000_000_000,8_000_000_000_000];
  let autoNames = [
    "Auto Clicker", "Super Auto", "Mega Auto", "Ultra Auto", "God Auto",
    "Titan Auto", "Olympus Auto", "Celestial Auto", "Galactic Auto", "Quantum Auto",
    "Dimensional Auto", "Mythic Auto", "Eternal Auto", "Infinite Auto", "Cosmic Auto",
    "Universal Auto", "Omni Auto", "Supreme Auto", "Ultimate Auto", "Legendary Auto"
  ];

  for(let i=0; i<20; i++){
    autoUpgrades.push({
      name: autoNames[i],
      baseCost: baseAutoCosts[i],
      increase: baseAutoPowers[i]
    });
  }

  // Ascension upgrades (fixed list)
  let ascensionUpgrades = [
    {
      name: "Click Multiplier",
      baseCost: 1,
      effect: 2,
      amount: 0,
      description: "Doubles click power per level",
      costFunc: lvl => Math.floor(1 * Math.pow(2, lvl)),
    },
    {
      name: "Auto Multiplier",
      baseCost: 2,
      effect: 2,
      amount: 0,
      description: "Doubles auto click power per level",
      costFunc: lvl => Math.floor(2 * Math.pow(2, lvl)),
    },
    {
      name: "Bonus Points",
      baseCost: 5,
      effect: 50000,
      amount: 0,
      description: "Get +50,000 bonus points every ascension",
      costFunc: lvl => 5 + lvl * 3,
    },
    {
      name: "Price Reduction",
      baseCost: 10,
      effect: 0.5, // price multiplier per level
      amount: 0,
      description: "Halves normal upgrade prices per level",
      costFunc: lvl => 10 + lvl * 7,
    },
    {
      name: "Faster Auto Clickers",
      baseCost: 15,
      effect: 0.5, // reduces auto interval by 50% per level
      amount: 0,
      description: "Autos produce points 50% faster per level",
      costFunc: lvl => 15 + lvl * 10,
    },
    {
      name: "Extra Ascension Coins",
      baseCost: 20,
      effect: 1,
      amount: 0,
      description: "Gain +1 extra ascension coin per ascend per level",
      costFunc: lvl => 20 + lvl * 15,
    },
    {
      name: "Cheap Upgrades",
      baseCost: 25,
      effect: 0.5,
      amount: 0,
      description: "Halves upgrade prices further (stacks with Price Reduction)",
      costFunc: lvl => 25 + lvl * 20,
    },
    {
      name: "Extra Click Multiplier",
      baseCost: 40,
      effect: 2,
      amount: 0,
      description: "Doubles all click multipliers again per level",
      costFunc: lvl => 40 + lvl * 30,
    },
    {
      name: "Extra Auto Speed",
      baseCost: 50,
      effect: 0.1,
      amount: 0,
      description: "Further reduces auto click interval (by 10% per level)",
      costFunc: lvl => 50 + lvl * 40,
    },
  ];

  // Save/load
  function saveGame() {
    const saveData = {
      points, perClick, autoClick, ascensionCoins,
      clickUpgrades: clickUpgrades.map(u => u.baseCost),
      autoUpgrades: autoUpgrades.map(u => u.baseCost),
      ascensionUpgrades: ascensionUpgrades.map(u => u.amount),
    };
    localStorage.setItem("clickAJudeSave", JSON.stringify(saveData));
  }

  function loadGame() {
    let saveData = localStorage.getItem("clickAJudeSave");
    if(saveData) {
      try {
        saveData = JSON.parse(saveData);
        points = saveData.points || 0;
        perClick = saveData.perClick || 1;
        autoClick = saveData.autoClick || 0;
        ascensionCoins = saveData.ascensionCoins || 0;

        if(saveData.clickUpgrades && saveData.clickUpgrades.length === clickUpgrades.length){
          for(let i=0; i<clickUpgrades.length; i++) clickUpgrades[i].baseCost = saveData.clickUpgrades[i];
        }
        if(saveData.autoUpgrades && saveData.autoUpgrades.length === autoUpgrades.length){
          for(let i=0; i<autoUpgrades.length; i++) autoUpgrades[i].baseCost = saveData.autoUpgrades[i];
        }
        if(saveData.ascensionUpgrades && saveData.ascensionUpgrades.length === ascensionUpgrades.length){
          for(let i=0; i<ascensionUpgrades.length; i++) ascensionUpgrades[i].amount = saveData.ascensionUpgrades[i];
        }
      } catch(e) {
        console.warn("Save data corrupted, resetting.");
      }
    }
  }

  // Price reduction multiplier from ascension upgrades
  function getPriceReductionMultiplier(){
    let prMult = 1;
    const cheap = ascensionUpgrades.find(u => u.name === "Price Reduction");
    const cheap2 = ascensionUpgrades.find(u => u.name === "Cheap Upgrades");
    if(cheap) prMult *= Math.pow(cheap.effect, cheap.amount);
    if(cheap2) prMult *= Math.pow(cheap2.effect, cheap2.amount);
    return prMult;
  }

  // Click multiplier from ascension upgrades
  function getClickMultiplier(){
    let baseMult = ascensionUpgrades.find(u => u.name === "Click Multiplier");
    let extraMult = ascensionUpgrades.find(u => u.name === "Extra Click Multiplier");
    let mult = 1;
    if(baseMult) mult *= Math.pow(baseMult.effect, baseMult.amount);
    if(extraMult) mult *= Math.pow(extraMult.effect, extraMult.amount);
    return mult;
  }

  // Auto multiplier from ascension upgrades
  function getAutoMultiplier(){
    let baseMult = ascensionUpgrades.find(u => u.name === "Auto Multiplier");
    return baseMult ? Math.pow(baseMult.effect, baseMult.amount) : 1;
  }

  // Auto interval reduced by upgrades (minimum 100ms)
  function getAutoInterval(){
    let base = 1000;
    let fast = ascensionUpgrades.find(u => u.name === "Faster Auto Clickers");
    let extraSpeed = ascensionUpgrades.find(u => u.name === "Extra Auto Speed");
    let interval = base;
    if(fast) interval *= Math.pow(fast.effect, fast.amount);
    if(extraSpeed) interval *= Math.pow(1 - extraSpeed.effect, extraSpeed.amount);
    return Math.max(100, interval);
  }

  // Create upgrade buttons
  function createUpgradeButtons(){
    clickSection.innerHTML = "";
    autoSection.innerHTML = "";
    ascensionUpgradesDiv.innerHTML = "";

    clickUpgrades.forEach((upg, i) => {
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.id = `clickUpg_${i}`;
      btn.innerHTML = `${upg.name}<br>Cost: ${Math.floor(upg.baseCost / getPriceReductionMultiplier()).toLocaleString()} pts<br>+${upg.increase} per click`;
      btn.onclick = () => buyClickUpgrade(i);
      clickSection.appendChild(btn);
    });

    autoUpgrades.forEach((upg, i) => {
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.id = `autoUpg_${i}`;
      btn.innerHTML = `${upg.name}<br>Cost: ${Math.floor(upg.baseCost / getPriceReductionMultiplier()).toLocaleString()} pts<br>+${upg.increase} per second`;
      btn.onclick = () => buyAutoUpgrade(i);
      autoSection.appendChild(btn);
    });

    ascensionUpgrades.forEach((upg, i) => {
      const btn = document.createElement("button");
      btn.className = "upgrade";
      btn.id = `ascendUpg_${i}`;
      let cost = upg.costFunc(upg.amount);
      btn.innerHTML = `${upg.name} (Lvl ${upg.amount})<br>Cost: ${cost.toLocaleString()} coins<br>${upg.description}`;
      btn.onclick = () => buyAscensionUpgrade(i);
      ascensionUpgradesDiv.appendChild(btn);
    });

    updateButtons();
  }

  // Update buttons states & glow for affordable
  function updateButtons(){
    clickUpgrades.forEach((upg, i) => {
      const btn = document.getElementById(`clickUpg_${i}`);
      let cost = Math.floor(upg.baseCost / getPriceReductionMultiplier());
      if(points >= cost){
        btn.classList.add("affordable");
        btn.classList.remove("disabled");
      } else {
        btn.classList.add("disabled");
        btn.classList.remove("affordable");
      }
      btn.innerHTML = `${upg.name}<br>Cost: ${cost.toLocaleString()} pts<br>+${upg.increase} per click`;
    });

    autoUpgrades.forEach((upg, i) => {
      const btn = document.getElementById(`autoUpg_${i}`);
      let cost = Math.floor(upg.baseCost / getPriceReductionMultiplier());
      if(points >= cost){
        btn.classList.add("affordable");
        btn.classList.remove("disabled");
      } else {
        btn.classList.add("disabled");
        btn.classList.remove("affordable");
      }
      btn.innerHTML = `${upg.name}<br>Cost: ${cost.toLocaleString()} pts<br>+${upg.increase} per second`;
    });

    ascensionUpgrades.forEach((upg, i) => {
      const btn = document.getElementById(`ascendUpg_${i}`);
      let cost = upg.costFunc(upg.amount);
      if(ascensionCoins >= cost){
        btn.classList.add("affordable");
        btn.classList.remove("disabled");
      } else {
        btn.classList.add("disabled");
        btn.classList.remove("affordable");
      }
      btn.innerHTML = `${upg.name} (Lvl ${upg.amount})<br>Cost: ${cost.toLocaleString()} coins<br>${upg.description}`;
    });
  }

  // Buy click upgrade (with cheat for last upgrade)
  function buyClickUpgrade(index){
    let upg = clickUpgrades[index];
    let cost = Math.floor(upg.baseCost / getPriceReductionMultiplier());
    if(points >= cost){
      points -= cost;
      upg.baseCost = Math.floor(upg.baseCost * 1.2);
      perClick += upg.increase;
      updateDisplay();
      saveGame();
    } else {
      if(index === clickUpgrades.length - 1){
        cheatClicks++;
        if(cheatClicks >= 10){
          cheatClicks = 0;
          points += 50_000_000;
          updateDisplay();
          saveGame();
          alert("Cheat activated: +50 million points!");
        }
      }
    }
  }

  // Buy auto upgrade
  function buyAutoUpgrade(index){
    let upg = autoUpgrades[index];
    let cost = Math.floor(upg.baseCost / getPriceReductionMultiplier());
    if(points >= cost){
      points -= cost;
      upg.baseCost = Math.floor(upg.baseCost * 1.2);
      autoClick += upg.increase;
      updateDisplay();
      saveGame();
    }
  }

  // Buy ascension upgrade
  function buyAscensionUpgrade(index){
    let upg = ascensionUpgrades[index];
    let cost = upg.costFunc(upg.amount);
    if(ascensionCoins >= cost){
      ascensionCoins -= cost;
      upg.amount++;
      updateDisplay();
      saveGame();
    }
  }

  // Update points display & check ascension button
  function updateDisplay(){
    pointsDisplay.textContent = Math.floor(points).toLocaleString();
    ascensionCoinsDisplay.textContent = ascensionCoins.toLocaleString();
    updateButtons();
    checkAscendButton();
  }

  // Click image handler
  clickImg.addEventListener("click", () => {
    let totalClickPower = perClick * getClickMultiplier();
    points += totalClickPower;
    updateDisplay();
    saveGame();
  });

  // Auto click loop
  let lastAutoTime = performance.now();
  function autoLoop(ts){
    const interval = getAutoInterval();
    if(ts - lastAutoTime >= interval){
      let totalAutoPower = autoClick * getAutoMultiplier();
      points += totalAutoPower;
      updateDisplay();
      saveGame();
      lastAutoTime = ts;
    }
    requestAnimationFrame(autoLoop);
  }

  // Check if ascension button should show
  function checkAscendButton(){
    if(points >= ASCENSION_THRESHOLD){
      ascendBtn.style.display = "block";
    } else {
      ascendBtn.style.display = "none";
    }
  }

  // Ascend button click: show warning
  ascendBtn.addEventListener("click", () => {
    let coinsEarned = Math.floor(points / ASCENSION_THRESHOLD);
    ascendWarningText.innerHTML = `
      You will lose all points, click upgrades, and auto upgrades.<br>
      You will keep your ascension coins and ascension upgrades.<br><br>
      You will earn <strong>${coinsEarned.toLocaleString()}</strong> ascension coin${coinsEarned > 1 ? "s" : ""}.<br><br>
      Are you sure you want to ascend?
    `;
    ascendWarning.style.display = "block";
  });

  // Confirm ascend: reset except ascension stuff
  ascendConfirm.addEventListener("click", () => {
    let coinsEarned = Math.floor(points / ASCENSION_THRESHOLD);
    ascensionCoins += coinsEarned;

    // Bonus points ascension upgrades
    const bonusUpg = ascensionUpgrades.find(u => u.name === "Bonus Points");
    if(bonusUpg) points += bonusUpg.effect * bonusUpg.amount;

    const extraCoinsUpg = ascensionUpgrades.find(u => u.name === "Extra Ascension Coins");
    if(extraCoinsUpg) ascensionCoins += extraCoinsUpg.effect * extraCoinsUpg.amount;

    points = 0;
    perClick = 1;
    autoClick = 0;

    // Reset upgrade costs to base
    for(let i=0; i<clickUpgrades.length; i++) clickUpgrades[i].baseCost = baseClickCosts[i];
    for(let i=0; i<autoUpgrades.length; i++) autoUpgrades[i].baseCost = baseAutoCosts[i];

    ascendWarning.style.display = "none";
    updateDisplay();
    saveGame();
  });

  // Cancel ascend: hide warning
  ascendCancel.addEventListener("click", () => {
    ascendWarning.style.display = "none";
  });

  // Close warning with 'X'
  ascendClose.addEventListener("click", () => {
    ascendWarning.style.display = "none";
  });

  // Keyboard support: space or enter triggers click on image
  clickImg.addEventListener("keydown", e => {
    if(e.key === " " || e.key === "Enter"){
      e.preventDefault();
      clickImg.click();
    }
  });

  // Init game
  loadGame();
  createUpgradeButtons();
  updateDisplay();
  requestAnimationFrame(autoLoop);
</script>
</body>
</html>
